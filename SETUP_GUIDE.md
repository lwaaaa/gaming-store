# متجر القيمنق - دليل التشغيل والإعداد الشامل

## نظرة عامة على المشروع

متجر القيمنق هو منصة تجارة إلكترونية احترافية مصممة خصيصاً لبيع الألعاب الإلكترونية وإكسسوارات الألعاب. يتميز المشروع بتصميم عصري وواجهة مستخدم سهلة الاستخدام، مع دعم كامل للغة العربية ونظام إدارة متقدم.

## الميزات الرئيسية

### 1. واجهة المستخدم
- تصميم متجاوب يعمل على جميع الأجهزة (الهواتف الذكية، الأجهزة اللوحية، أجهزة الكمبيوتر)
- دعم كامل للغة العربية مع اتجاه النص من اليمين إلى اليسار
- تصميم عصري باستخدام CSS3 مع تأثيرات بصرية جذابة
- نظام ألوان احترافي يعكس هوية الألعاب

### 2. إدارة المنتجات
- عرض الألعاب مع صور عالية الجودة
- تصنيف المنتجات (ألعاب، إكسسوارات)
- معلومات تفصيلية لكل منتج (السعر، الوصف، التقييم)
- نظام بحث متقدم

### 3. نظام المستخدمين
- تسجيل حسابات جديدة مع التحقق من صحة البيانات
- تسجيل الدخول الآمن باستخدام تشفير كلمات المرور
- إدارة الملف الشخصي
- حفظ سجل الطلبات

### 4. سلة التسوق والطلبات
- إضافة المنتجات إلى السلة مع حفظ البيانات محلياً
- حساب المجموع الإجمالي تلقائياً
- نظام إدارة الطلبات مع تتبع الحالة
- إشعارات فورية عبر Telegram

### 5. تكامل Telegram
- إرسال إشعارات الطلبات الجديدة فوراً
- إشعارات تسجيل المستخدمين الجدد
- رسائل التواصل من نموذج الاتصال
- تنسيق احترافي للرسائل باللغة العربية

## البنية التقنية

### الواجهة الأمامية (Frontend)
- **HTML5**: هيكل الصفحات مع دعم العناصر الحديثة
- **CSS3**: التصميم والتنسيق مع Flexbox و Grid
- **JavaScript**: التفاعل والديناميكية
- **خطوط Google**: خط Cairo للنصوص العربية

### الواجهة الخلفية (Backend)
- **Flask**: إطار عمل Python للخادم
- **SQLAlchemy**: إدارة قاعدة البيانات
- **Flask-CORS**: دعم الطلبات من مصادر متعددة
- **Werkzeug**: تشفير كلمات المرور

### قاعدة البيانات
- **SQLite**: قاعدة بيانات خفيفة للتطوير
- جداول المستخدمين مع الحقول الأساسية
- نظام تخزين الطلبات في الذاكرة (قابل للترقية لقاعدة بيانات)

### التكامل الخارجي
- **Telegram Bot API**: للإشعارات الفورية
- **Render**: منصة النشر السحابية
- **GitHub**: إدارة الكود المصدري

## إعداد البيئة المحلية

### المتطلبات الأساسية
```bash
Python 3.8+
pip (مدير الحزم)
Git
```

### خطوات التثبيت

1. **استنساخ المشروع**
```bash
git clone https://github.com/lwaaaa/gaming-store.git
cd gaming-store
```

2. **إعداد البيئة الافتراضية**
```bash
cd backend
python -m venv venv
source venv/bin/activate  # على Linux/Mac
# أو
venv\Scripts\activate  # على Windows
```

3. **تثبيت المتطلبات**
```bash
pip install -r requirements.txt
```

4. **إعداد متغيرات البيئة**
```bash
cp .env.example .env
# تحرير ملف .env وإضافة القيم المطلوبة
```

5. **تشغيل الخادم**
```bash
python src/main.py
```

## إعداد Telegram Bot

### إنشاء البوت

1. **التواصل مع BotFather**
   - افتح تطبيق Telegram
   - ابحث عن `@BotFather`
   - أرسل الأمر `/newbot`

2. **تكوين البوت**
   - اختر اسماً للبوت (مثل: متجر القيمنق)
   - اختر معرفاً فريداً (مثل: gaming_store_bot)
   - احفظ الرمز المميز (Token) الذي سيرسله BotFather

3. **الحصول على Chat ID**
   - أرسل رسالة للبوت
   - استخدم الرابط التالي لمعرفة Chat ID:
   ```
   https://api.telegram.org/bot[TOKEN]/getUpdates
   ```

### تكوين المشروع

1. **تحديث ملف telegram_bot.py**
```python
TELEGRAM_BOT_TOKEN = "YOUR_ACTUAL_BOT_TOKEN"
TELEGRAM_CHAT_ID = "YOUR_ACTUAL_CHAT_ID"
```

2. **اختبار الاتصال**
```python
from src.telegram_bot import telegram_bot, TELEGRAM_CHAT_ID

# إرسال رسالة تجريبية
telegram_bot.send_message(TELEGRAM_CHAT_ID, "مرحباً من متجر القيمنق!")
```

## النشر على Render

### إعداد الحساب

1. **إنشاء حساب Render**
   - زيارة [render.com](https://render.com)
   - التسجيل باستخدام GitHub

2. **ربط المستودع**
   - اختيار "New Web Service"
   - ربط مستودع GitHub
   - اختيار مشروع gaming-store

### تكوين النشر

1. **إعدادات الخدمة**
   - **Name**: gaming-store
   - **Environment**: Python 3
   - **Build Command**: `pip install -r backend/requirements.txt`
   - **Start Command**: `gunicorn src.main:app`
   - **Root Directory**: `backend`

2. **متغيرات البيئة**
   - إضافة متغيرات البيئة المطلوبة
   - تكوين رمز Telegram Bot
   - إعداد Chat ID

### GitHub Actions للنشر التلقائي

يتضمن المشروع ملف `.github/workflows/deploy.yml` الذي يقوم بـ:

- تشغيل الاختبارات تلقائياً
- نشر التحديثات على Render عند كل push
- إرسال إشعارات حالة النشر

## استخدام المنصة

### للعملاء

1. **التصفح والبحث**
   - تصفح الألعاب والإكسسوارات
   - استخدام البحث للعثور على منتجات محددة
   - مراجعة تفاصيل المنتجات والأسعار

2. **التسجيل والدخول**
   - إنشاء حساب جديد بالبيانات الأساسية
   - تسجيل الدخول للوصول للميزات المتقدمة
   - إدارة الملف الشخصي

3. **التسوق والشراء**
   - إضافة المنتجات للسلة
   - مراجعة السلة وتعديل الكميات
   - إتمام الطلب مع تأكيد البيانات

### للإدارة

1. **مراقبة الطلبات**
   - استقبال إشعارات فورية عبر Telegram
   - مراجعة تفاصيل الطلبات
   - تحديث حالة الطلبات

2. **إدارة المستخدمين**
   - مراقبة التسجيلات الجديدة
   - إدارة بيانات المستخدمين
   - تتبع نشاط المنصة

## الأمان والحماية

### تشفير البيانات
- كلمات المرور مشفرة باستخدام Werkzeug
- التحقق من صحة البيانات المدخلة
- حماية من هجمات SQL Injection

### التحقق من المدخلات
- التحقق من صيغة البريد الإلكتروني
- التأكد من قوة كلمات المرور
- تنظيف البيانات المدخلة

### الخصوصية
- عدم تخزين معلومات حساسة
- حماية بيانات المستخدمين
- سياسة خصوصية واضحة

## الصيانة والتطوير

### النسخ الاحتياطي
- نسخ احتياطية دورية لقاعدة البيانات
- حفظ ملفات التكوين
- توثيق التغييرات

### المراقبة
- مراقبة أداء الخادم
- تتبع الأخطاء والمشاكل
- تحليل استخدام المنصة

### التحديثات
- تحديثات أمنية دورية
- إضافة ميزات جديدة
- تحسين الأداء

## استكشاف الأخطاء

### مشاكل شائعة

1. **خطأ في الاتصال بقاعدة البيانات**
   - التأكد من وجود ملف قاعدة البيانات
   - فحص صلاحيات الملفات
   - إعادة إنشاء الجداول

2. **مشاكل Telegram Bot**
   - التحقق من صحة الرمز المميز
   - التأكد من Chat ID
   - فحص اتصال الإنترنت

3. **مشاكل النشر**
   - مراجعة ملفات التكوين
   - فحص متغيرات البيئة
   - مراجعة سجلات الأخطاء

### الحلول

1. **إعادة تشغيل الخدمات**
```bash
# إعادة تشغيل الخادم المحلي
python src/main.py

# إعادة نشر على Render
git push origin main
```

2. **فحص السجلات**
```bash
# عرض سجلات الخادم
tail -f logs/app.log

# فحص سجلات Render
# من لوحة التحكم على الموقع
```

## الدعم والمساعدة

### الموارد المفيدة
- [وثائق Flask](https://flask.palletsprojects.com/)
- [دليل Telegram Bot API](https://core.telegram.org/bots/api)
- [وثائق Render](https://render.com/docs)

### التواصل
- GitHub Issues للمشاكل التقنية
- البريد الإلكتروني للاستفسارات العامة
- Telegram للدعم الفوري

---

*تم إعداد هذا الدليل بواسطة فريق تطوير متجر القيمنق*

